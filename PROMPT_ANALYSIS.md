# Dr. Harmony - Prompt System Analysis

## üéØ –ü—Ä–æ–±–ª–µ–º–∞ —Å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** AI –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–µ, –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (–∫–∞–∫ –≤ –ø–µ—Ä–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏).

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω

### 1. –û–≥—Ä–æ–º–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
- **–ë—ã–ª–æ:** 245 —Å—Ç—Ä–æ–∫ (~8000 —Å–∏–º–≤–æ–ª–æ–≤)
- **–°–æ–¥–µ—Ä–∂–∞–ª:** –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–µ–∫—Ü–∏–∏
- **–ü—Ä–æ–±–ª–µ–º–∞:** AI –ø—ã—Ç–∞–ª—Å—è —Å–ª–µ–¥–æ–≤–∞—Ç—å –≤—Å–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### 2. –ò–∑–±—ã—Ç–æ—á–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- **–ë—ã–ª–æ:** –ü–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è –ø–æ–ª–Ω—ã–π summary + 5 memories + 3 insights
- **–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

### 3. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **–ë—ã–ª–æ:** –î–≤–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö endpoint'–∞ –≤ web_app.py
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—É—Ç–∞–Ω–∏—Ü–∞ –∏ –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

## ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### 1. –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (91% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ)
```python
# –ë–´–õ–û: 245 —Å—Ç—Ä–æ–∫
PSYCHOLOGIST_SYSTEM_PROMPT = """
You are Dr. Harmony, an advanced AI family psychologist...
[–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–µ–∫—Ü–∏–π —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏]
"""

# –°–¢–ê–õ–û: 20 —Å—Ç—Ä–æ–∫
PSYCHOLOGIST_SYSTEM_PROMPT = """
You are Dr. Harmony, an AI relationship psychologist. Be warm, empathetic, and solution-focused.

**Core Principles:**
- Listen actively and validate emotions
- Provide actionable, personalized advice
- Focus on growth and positive outcomes
- Be non-judgmental and supportive

**Response Style:**
- Keep responses concise (2-3 paragraphs max)
- Be direct and practical
- Use warm, encouraging tone
- Include specific next steps when relevant
"""
```

### 2. –ö–æ–Ω—Ç–µ–∫—Å—Ç (90% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ)
```python
# –ë–´–õ–û: –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π summary
summary = f"""
RELATIONSHIP CONTEXT SUMMARY:
- Phase: {self.context.relationship_phase}
- Trust Level: {self.context.trust_level}/10
- Intimacy Level: {self.context.intimacy_level}/10
- Communication Quality: {self.context.communication_quality}/10
- Emotional Tone: {self.context.emotional_tone}
- Current Topics: {', '.join(self.context.current_topics)}
- Recent Insights: {len(self.context.relationship_insights)}
- Shared Memories: {len(self.context.shared_memories)}
- Conflicts Resolved: {len(self.context.conflict_history)}
- Milestones Celebrated: {len(self.context.milestone_history)}
"""

# –°–¢–ê–õ–û: –û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞
summary = f"Relationship: {self.context.relationship_phase} phase, Trust: {self.context.trust_level}/10, Topics: {', '.join(self.context.current_topics[:3])}"
```

### 3. –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π endpoint –≤ web_app.py
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|------|-------|-----------|
| –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç | ~8000 —Å–∏–º–≤–æ–ª–æ–≤ | 692 —Å–∏–º–≤–æ–ª–∞ | **91% –º–µ–Ω—å—à–µ** |
| –ö–æ–Ω—Ç–µ–∫—Å—Ç | ~500 —Å–∏–º–≤–æ–ª–æ–≤ | 72 —Å–∏–º–≤–æ–ª–∞ | **86% –º–µ–Ω—å—à–µ** |
| –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ | –ú–µ–¥–ª–µ–Ω–Ω–æ | –ë—ã—Å—Ç—Ä–æ | **–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ** |
| –ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ | –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ | **–õ—É—á—à–µ** |

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

### 1. –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å
- **–ü—Ä–æ–º–ø—Ç:** –ö—Ä–∞—Ç–∫–∏–π –∏ —á–µ—Ç–∫–∏–π
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π (—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
- **–û—Ç–≤–µ—Ç:** –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π

### 2. –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã
- **–ü—Ä–æ–º–ø—Ç:** –¢–æ—Ç –∂–µ (–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- **–û—Ç–≤–µ—Ç:** –£—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é, –Ω–æ –æ—Å—Ç–∞–µ—Ç—Å—è –∫—Ä–∞—Ç–∫–∏–º

### 3. –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** –ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏–π:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π
- **–ü–∞–º—è—Ç—å:** –¢–æ–ª—å–∫–æ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

1. **–ë—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã** - –ú–µ–Ω—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤ = –±—ã—Å—Ç—Ä–µ–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
2. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–≤–µ—Ç—ã** - AI —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–º
3. **–õ—É—á—à–∏–π UX** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —á–µ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã
4. **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤** - –ú–µ–Ω—å—à–µ API –≤—ã–∑–æ–≤–æ–≤ –∏ —Ç–æ–∫–µ–Ω–æ–≤
5. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–æ—Å—Ç—É

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –°–ª–µ–¥–∏—Ç—å –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ–º –æ—Ç–≤–µ—Ç–æ–≤
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:** –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –†–µ–≥—É–ª—è—Ä–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
4. **–ò—Ç–µ—Ä–∞—Ü–∏–∏:** –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–ª—É—á—à–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

---

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–∞—Ç–∫–∏–µ, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏ –ø–æ–ª–µ–∑–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤–º–µ—Å—Ç–æ –¥–ª–∏–Ω–Ω—ã—Ö –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤. 