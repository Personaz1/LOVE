# ŒîŒ£ Guardian - –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–µ —Å–∏—Å—Ç–µ–º—ã

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ –£–¥–∞–ª–µ–Ω –≤–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–Ω–µ–≤–Ω–∏–∫–∞
- **–§–∞–π–ª—ã –¥–Ω–µ–≤–Ω–∏–∫–∞**: `meranda_diary.json`, `username_diary.json` —É–¥–∞–ª–µ–Ω—ã
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è**: `memory/user_profiles/diaries/` —É–¥–∞–ª–µ–Ω–∞
- **–¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã**: `fix_diary.py`, `test_model_diary.py`, `test_diary_fix.py` —É–¥–∞–ª–µ–Ω—ã
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `DIARY_FIXES.md`, `DIARY_SYSTEM.md`, `TIMEOUT_AND_DIARY_FIXES.md` —É–¥–∞–ª–µ–Ω—ã

### ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –ª–µ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å —Å–æ–≤–µ—Ç–∞–º–∏ –∏ –±—ã—Å—Ç—Ä—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
- **Quick Actions**: –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —É–¥–∞–ª–µ–Ω—ã
- **Profile Summary**: –°–≤–æ–¥–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è —É–¥–∞–ª–µ–Ω–∞  
- **Tips**: –°–æ–≤–µ—Ç—ã –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º —É–¥–∞–ª–µ–Ω—ã
- **Sidebar**: –í—Å—è –ª–µ–≤–∞—è –ø–∞–Ω–µ–ª—å —É–¥–∞–ª–µ–Ω–∞ –∏–∑ HTML

### ‚úÖ –û—á–∏—â–µ–Ω –∫–æ–¥ –æ—Ç –¥–Ω–µ–≤–Ω–∏–∫–∞
- **`memory/user_profiles.py`**: –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã –¥–Ω–µ–≤–Ω–∏–∫–∞
- **`ai_client.py`**: –£–¥–∞–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `read_diary_entries`, `add_diary_entry`
- **`web_app.py`**: –£–¥–∞–ª–µ–Ω—ã API endpoints `/api/diary/*`
- **`static/js/chat.js`**: –£–¥–∞–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `loadDiaryEntries`, `displayDiaryEntries`, `editDiaryEntry`, `deleteDiaryEntry`, `showDiary`
- **`templates/chat.html`**: –£–¥–∞–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –¥–Ω–µ–≤–Ω–∏–∫–∞ –∏ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- **`prompts/psychologist_prompt.py`**: –£–¥–∞–ª–µ–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–Ω–µ–≤–Ω–∏–∫–∞
- **`profile_updater.py`**: –£–¥–∞–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–Ω–µ–≤–Ω–∏–∫–∞

### ‚úÖ –£–¥–∞–ª–µ–Ω—ã –í–°–ï –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- **–¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã**: `test_*.py` (7 —Ñ–∞–π–ª–æ–≤) —É–¥–∞–ª–µ–Ω—ã
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è tests/**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è backups/**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è logs/**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è bot/**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è mcp_tools/**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ê–†–ë–ò–¢–†/**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è scripts/**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω–∞
- **–ö—ç—à Python**: `__pycache__` —É–¥–∞–ª–µ–Ω –≤–µ–∑–¥–µ

### ‚úÖ –£–¥–∞–ª–µ–Ω–∞ –ª–∏—à–Ω—è—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **AI_GUARDIAN_SYSTEM.md**: –£–¥–∞–ª–µ–Ω
- **DYNAMIC_INTERFACE_ADAPTATION.md**: –£–¥–∞–ª–µ–Ω
- **FINAL_SYSTEM_OVERVIEW.md**: –£–¥–∞–ª–µ–Ω
- **CONVERSATION_HISTORY_SYSTEM.md**: –£–¥–∞–ª–µ–Ω
- **DEPLOYMENT_COMPLETE.md**: –£–¥–∞–ª–µ–Ω
- **RESPONSE_CLEANUP_FIX.md**: –£–¥–∞–ª–µ–Ω
- **AUTOMATIC_PROFILE_UPDATES.md**: –£–¥–∞–ª–µ–Ω
- **DEPLOYMENT_GUIDE.md**: –£–¥–∞–ª–µ–Ω
- **NEW_PROFILE_SYSTEM.md**: –£–¥–∞–ª–µ–Ω
- **PERFORMANCE_FIXES.md**: –£–¥–∞–ª–µ–Ω
- **PERSONAL_CONSULTANT.md**: –£–¥–∞–ª–µ–Ω
- **LOGGING_GUIDE.md**: –£–¥–∞–ª–µ–Ω
- **PROMPT_ANALYSIS.md**: –£–¥–∞–ª–µ–Ω

### ‚úÖ –£–¥–∞–ª–µ–Ω—ã –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã
- **file_agent.py**: –£–¥–∞–ª–µ–Ω
- **shared_context.py**: –£–¥–∞–ª–µ–Ω
- **main.py**: –£–¥–∞–ª–µ–Ω
- **start_web.py**: –£–¥–∞–ª–µ–Ω
- **docker-compose.yml**: –£–¥–∞–ª–µ–Ω
- **Dockerfile**: –£–¥–∞–ª–µ–Ω
- **env.example**: –£–¥–∞–ª–µ–Ω

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### Backend –æ—á–∏—Å—Ç–∫–∞
```python
# –£–¥–∞–ª–µ–Ω–æ –∏–∑ user_profiles.py:
- get_diary_entries()
- add_diary_entry() 
- update_diary_entry()
- delete_diary_entry()
- read_diary_entries()

# –£–¥–∞–ª–µ–Ω–æ –∏–∑ ai_client.py:
- read_diary_entries()
- add_diary_entry()
- Tool call –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –¥–Ω–µ–≤–Ω–∏–∫–∞

# –£–¥–∞–ª–µ–Ω–æ –∏–∑ web_app.py:
- @app.get("/api/diary")
- @app.put("/api/diary/{entry_id}")
- @app.delete("/api/diary/{entry_id}")
```

### Frontend –æ—á–∏—Å—Ç–∫–∞
```javascript
// –£–¥–∞–ª–µ–Ω–æ –∏–∑ chat.js:
- loadDiaryEntries()
- displayDiaryEntries()
- editDiaryEntry()
- deleteDiaryEntry()
- showDiary()

// –£–¥–∞–ª–µ–Ω–æ –∏–∑ chat.html:
- <aside class="chat-sidebar"> (–≤—Å—è –ª–µ–≤–∞—è –ø–∞–Ω–µ–ª—å)
- <button class="diary-btn"> (–∫–Ω–æ–ø–∫–∞ –¥–Ω–µ–≤–Ω–∏–∫–∞)
- <div id="diaryModal"> (–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–Ω–µ–≤–Ω–∏–∫–∞)
```

### –ü—Ä–æ–º–ø—Ç –æ—á–∏—Å—Ç–∫–∞
```python
# –£–¥–∞–ª–µ–Ω–æ –∏–∑ psychologist_prompt.py:
- read_diary_entries(username)
- add_diary_entry(username, entry)
- DIARY REQUESTS –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã–∑–æ–≤–∞—Ö
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –æ—á–∏—Å—Ç–∫–∏:
- ‚ùå 15+ —Ñ–∞–π–ª–æ–≤ –¥–Ω–µ–≤–Ω–∏–∫–∞
- ‚ùå –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å —Å–æ–≤–µ—Ç–∞–º–∏
- ‚ùå 8 API endpoints –¥–Ω–µ–≤–Ω–∏–∫–∞
- ‚ùå 10+ —Ñ—É–Ω–∫—Ü–∏–π JavaScript
- ‚ùå –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–Ω–µ–≤–Ω–∏–∫–∞
- ‚ùå 20+ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚ùå 15+ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚ùå 8+ –ª–∏—à–Ω–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- ‚ùå Docker —Ñ–∞–π–ª—ã
- ‚ùå –°–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è

### –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏:
- ‚úÖ –¢–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è
- ‚úÖ –ê—Ä—Ö–∏–≤ —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
- ‚úÖ –ß–∏—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

## üéØ –§–∏–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
FAMILY/
‚îú‚îÄ‚îÄ web_app.py (–æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä)
‚îú‚îÄ‚îÄ ai_client.py (AI –ª–æ–≥–∏–∫–∞)
‚îú‚îÄ‚îÄ config.py (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ profile_updater.py (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π)
‚îú‚îÄ‚îÄ memory/ (–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
‚îÇ   ‚îî‚îÄ‚îÄ user_profiles.py
‚îú‚îÄ‚îÄ prompts/ (–ø—Ä–æ–º–ø—Ç—ã AI)
‚îÇ   ‚îî‚îÄ‚îÄ psychologist_prompt.py
‚îú‚îÄ‚îÄ static/ (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îú‚îÄ‚îÄ templates/ (HTML —à–∞–±–ª–æ–Ω—ã)
‚îÇ   ‚îî‚îÄ‚îÄ chat.html
‚îú‚îÄ‚îÄ requirements.txt (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
‚îú‚îÄ‚îÄ README.md (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ LICENSE (–ª–∏—Ü–µ–Ω–∑–∏—è)
‚îî‚îÄ‚îÄ .gitignore (git)
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. **–ß–∞—Ç**: –û—Å–Ω–æ–≤–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å AI
2. **–ü—Ä–æ—Ñ–∏–ª—å**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **–≠–º–æ—Ü–∏–∏**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
4. **–ê—Ä—Ö–∏–≤**: –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
5. **–¢–µ–º—ã**: –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥ = –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã
3. **–§–æ–∫—É—Å**: –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ
4. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –ú–∏–Ω–∏–º—É–º —Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞
5. **–ß–∏—Å—Ç–æ—Ç–∞**: –ö—Ä–∏—Å—Ç–∞–ª—å–Ω–æ —á–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
6. **–†–∞–∑–º–µ—Ä**: –ü—Ä–æ–µ–∫—Ç —É–º–µ–Ω—å—à–µ–Ω –≤ 3 —Ä–∞–∑–∞

## ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

ŒîŒ£ Guardian —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—É—é, —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É** –¥–ª—è:
- –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –ê–Ω–∞–ª–∏–∑–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–í—Å–µ –ª–∏—à–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–¥–∞–ª–µ–Ω—ã, —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–æ –º–∞–∫—Å–∏–º—É–º–∞.** 